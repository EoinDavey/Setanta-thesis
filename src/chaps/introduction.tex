\chapter{Introduction}
For easier distinction between programming languages and ``human'' languages, from this point I will refer to programming languages as \textbf{PLs}, and traditional languages as just \textbf{languages}.

\section{Motivation}
English is the language of choice for the programming world, even PLs developed in non-English speaking countries are designed to be written in English, e.g., \emph{Lua} (developed in the Netherlands), \emph{Ruby} (developed in Japan).
This focus on one single language must have some impact on the way we design our PLs.
Many PLs have been written for other languages, but if you go to use one you will almost certainly find that it is a \emph{translation} of a PL originally written for English speakers\cite{wikipllist}.
If we design a PL from the ground up around a non-English language, what changes do we see between it and the industry-standard English PLs? By finding deep links between the English language and the PLs used in industry, I hope to reveal subtle ways in which diversity of thought is being constrained by forcing all programming to be done through the lens of English.

Irish was chosen as the language to build the new PL around for many reasons, the obvious being that it is the native language of Ireland, so it is of interest to an Irish audience, but this is not the only reason.
Irish has historically faced significant hostility, and today finds itself a minority language in its own country, however, it is still spoken by over 73,000 people daily\cite{csoirish}.
If any Irish speaking person wishes to learn about programming, they have no choice but to do it through the medium of English.
By creating an Irish PL and an online learning environment around it I hope to enable people to learn to program in the way that they want to.

\section{Problem Statement}
This project involves the design and implementation of a new, modern, innovative PL, named \Setanta{}.
\Setanta{} is to be developed entirely in Irish.
It will not be a translation or a modification of a previously existing PL, this is to allow it to be influenced by the Irish language at every stage of the design and implementation process.

\Setanta{} will be designed with education in mind.
It will be built to run in the browser to enable high ease of access to as many people as possible.
By running the code in the browser, no installations are required to use the PL, just a web browser.

\Setanta{} must be a modern PL with all industry-standard features, this is to ensure that by learning \Setanta{}, you learn the most fundamental programming concepts.
Additionally, it should be built to overcome the limitations of the browser environment.
Executing code in the browser limits you to a single thread and no blocking operations, by building a language on top of this we can abstract out these limitations and enable users to use concurrent functions and blocking operations such as IO.

An online learning environment will be created where the user can write and execute \Setanta{} in the browser.
It should be accessible and easy to use.
To assist in the learning process the environment will take inspiration from popular educational tools like \emph{Scratch} and \emph{Logo} and have a graphical interface where the user can draw and interact with shapes and animations.
Research has shown that visual engagement is a strong pedagogical tool. The use of visual elements in educational approaches improves the learning experience\cite{graphiclearning}.

To implement an interpreter for a PL a parser is needed, usually, a parser generator is used to do this.
However, as not many languages are built to be browser-first, the parser generator choices available for TypeScript (my PL of choice for this project) were not quite suitable.
This leads to the additional part of this project to create a novel parser generator for TypeScript.
The parser generator must be powerful enough to support \Setanta{}, as well as to be capable of bootstrapping its own parser.
It should be built on the latest innovations in parsing technology, providing accurate syntax error detection and ASTs to the user.
The ASTs generated by the parser should be strongly typed, to enable maximum utility of the TypeScript type system.

\section{Approach}
The approach to completing this project involves a few main steps. First, a prototype of the learning environment is made as an experimentation sandbox and proof of concept. JavaScript will be initially used as a stand-in for \Setanta{} as it can be already executed on the browser. Using JavaScript and the environment prototype we explore options for abstracting out the single threading and non-blocking operations restrictions described above. We also experiment with different options for creating a graphical display that the user can manipulate and draw on.

After experimenting with the sandbox we move to the design process of \Setanta{}. We must decide on several important features of the language, in terms of syntax and semantics. The design process will involve creating several documents outlining the decision process in real-time. \emph{These documents can be found in the supporting content of the project submission.} The linguistic properties of Irish will be contrasted with those of English and used to influence the syntax and semantics of the language.

After a design is settled on we move to create the parser generator \tsPEG{}. This is a key component and will be needed to create the parser for \Setanta{}. \tsPEG{} is worked on as a largely independent project, in fact, my supervisor has stated that he thinks that \tsPEG{} is of sufficient independent interest to be a final year project of its own. The creation process for \tsPEG{} involves reading up on the existing state of the art parser generators and techniques and then creating a new generator with those ideas in mind, as well as the requirements of \Setanta{}. \tsPEG{} is created by using a bootstrapping process whereby a simple parser is made by hand for a very basic grammar, then this is used to self bootstrap further and further powerful features until we have created an expressive, state of the art parser generator.

\tsPEG{} is then used to create the parser for \Setanta{}, and work on implementing \Setanta{} can begin. Like \tsPEG{}, \Setanta{} is created by first implementing the basic features of a PL, variables, loops, function calls. We then move on to implementing more and more complex features including classes, inheritance, closures, first-order functions and concurrency support. As we create \Setanta{} we replace the JavaScript in the learning environment with \Setanta{}, thus creating the full end-to-end product.

After-creation of \Setanta{}, we return to the learning environment, adding a backend that allows users to save their code and send it to others. We improve the UI and UX of the website and optimise the concurrency abstractions as we prepare it for release.

\section{Evaluation Metrics}

The main strategy to evaluate this project is to assess the degree of completion of the main goals. We will evaluate how successful the project was by examining the level of success that was attained in completing the goals. The goals for \Setanta{} include creating a new, modern programming language in Irish, evaluating how it differs from languages designed in English, how beginner-friendly it is, and how much interest there is in the language from the community at large. The domain of \Setanta{} is education, and as such, performance is not our biggest concern. However, we should ensure that the language is fast enough to not be noticeably a significant problem.

For \tsPEG{}, the goals are to create a powerful parser generator for TypeScript. \tsPEG{} should be powerful enough to build a real programming language with. It should be capable of self-hosting its own input parser. \tsPEG{} should be based on novel ideas in parser technology, and be highly configurable to different projects. \tsPEG{} aims to have powerful syntax error reporting and recovery and to be highly strongly typed. We would also like \tsPEG{} to be of interest to the parser community, hopefully finding use in other projects.

The learning environment has many goals. It must be an accessible website where users can write and execute \Setanta{} code. The website should allow users to experiment with \Setanta{}, both through classical text IO programming and by allowing them access to an API to draw and manipulate shapes and objects on a graphics display. It should be a beginner-friendly website so that it draws the interest of people who have not yet learned to program.

After the creation of these three components, we will return to these original goals and assess how well they were completed.

\section{Project Achievements}
In the completion of this project, several significant accomplishments were realized.
\begin{itemize}
    \item \textbf{Successful creation and launch of \tsPEG{}}

        The TypeScript parser generator \tsPEG{} was created successfully and released on the NPM (Node Package Manager) package repository. \tsPEG{} was announced on some TypeScript forums and garnered some attention, peaking at 242 average weekly downloads for a period after its release. \tsPEG{} was used in the creation of \Setanta{} to great success.

    \item \textbf{Implementation of \Setanta{}.}

        As the main goal of the project, \Setanta{} was developed almost exactly to the original design. It's a modern, powerful, expressive language with all the bells and whistles that we have come to expect. \Setanta{} is a strong but dynamically typed language that can be executed both in the browser and locally on the command line through the NodeJS runtime. To test the expressive power of \Setanta{} I wrote solutions to several programming problems from the \emph{Advent of Code} problem set in \Setanta{}. These solutions went on to be part of the test suite.

    \item \textbf{\trys{} - The \Setanta{} learning environment.}

        \trys{} was created and hosted on the Google App Engine and satisfies all the requirements that were expected of it. Visiting \trys{} the user can write and execute \Setanta{} code. They can save their code and send it to their friends by the use of unique URLs assigned to each saved piece of code. \trys{} also features the planned graphics display where the programmer graphically manipulates different shapes and objects.

    \item \textbf{Allowing Irish to affect the design of \Setanta{}.}

        Part of the goals of designing \Setanta{} was to allow the Irish language to influence its design, and by doing so to see what parts of industry-standard languages are subtly influenced by their design in English. \Setanta{} has some syntactic constructs that were affected by the use of Irish as its ``host'' language. These effects highlight some of the Anglo-centric designs in today's languages, including in features that we consider to be almost universal. A significant example can be found in Section~\ref{atoperator}.

    \item \textbf{Abstraction out over the browsers concurrency issues.}
        
        Anyone who's written code for the browser will know the pain of the single-threaded, non-blocking world of JavaScript. Programs executed on the browser cannot launch multiple threads, or wait for operations to finish. Unless you use \Setanta{}! The \Setanta{} runtime abstracts out the JavaScript internal task queue and callback systems and allows the user to write code that waits for blocking operations such as user input, and to execute things concurrently such as running infinite rendering loops but still allowing keyboard inputs to be processed. How this was achieved is outlined in Section \ref{solution:blocking-concurrency}.

\end{itemize}
